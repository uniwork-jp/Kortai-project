# ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ã€AI Assistant ãƒ¢ãƒãƒ¬ãƒã§åˆ©ç”¨å¯èƒ½ãªã™ã¹ã¦ã®npm/pnpmã‚¹ã‚¯ãƒªãƒ—ãƒˆã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚

---

## ğŸ—ï¸ **ãƒ“ãƒ«ãƒ‰ãƒ»é–‹ç™ºã‚³ãƒãƒ³ãƒ‰**

### ã‚³ã‚¢é–‹ç™º
| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ | ä½¿ç”¨æ–¹æ³• |
|---------|-------------|-------|
| `pnpm dev` | ã™ã¹ã¦ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã§èµ·å‹• | `pnpm dev` |
| `pnpm build` | ã™ã¹ã¦ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æœ¬ç•ªç”¨ã«ãƒ“ãƒ«ãƒ‰ | `pnpm build` |
| `pnpm clean` | ã™ã¹ã¦ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰æˆæœç‰©ã‚’ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ— | `pnpm clean` |

### ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³åˆ¥é–‹ç™º
| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ | ä½¿ç”¨æ–¹æ³• |
|---------|-------------|-------|
| `pnpm dev:app` | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¢ãƒ—ãƒªã®ã¿ã‚’é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã§èµ·å‹• | `pnpm dev:app` |
| `pnpm dev:backend` | ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã¿ã‚’é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã§èµ·å‹• | `pnpm dev:backend` |
| `pnpm build:app` | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¢ãƒ—ãƒªã®ã¿ã‚’ãƒ“ãƒ«ãƒ‰ | `pnpm build:app` |
| `pnpm build:backend` | ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã¿ã‚’ãƒ“ãƒ«ãƒ‰ | `pnpm build:backend` |

---

## ğŸ§ª **ãƒ†ã‚¹ãƒˆãƒ»å“è³ªã‚³ãƒãƒ³ãƒ‰**

### ãƒ†ã‚¹ãƒˆ
| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ | ä½¿ç”¨æ–¹æ³• |
|---------|-------------|-------|
| `pnpm test` | ã™ã¹ã¦ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ | `pnpm test` |
| `pnpm test:app` | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¢ãƒ—ãƒªã®ãƒ†ã‚¹ãƒˆã®ã¿ã‚’å®Ÿè¡Œ | `pnpm test:app` |
| `pnpm test:backend` | ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ†ã‚¹ãƒˆã®ã¿ã‚’å®Ÿè¡Œ | `pnpm test:backend` |

### ã‚³ãƒ¼ãƒ‰å“è³ª
| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ | ä½¿ç”¨æ–¹æ³• |
|---------|-------------|-------|
| `pnpm lint` | ã™ã¹ã¦ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ãƒªãƒ³ãƒˆ | `pnpm lint` |
| `pnpm lint:app` | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¢ãƒ—ãƒªã®ã¿ã‚’ãƒªãƒ³ãƒˆ | `pnpm lint:app` |
| `pnpm lint:backend` | ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã¿ã‚’ãƒªãƒ³ãƒˆ | `pnpm lint:backend` |
| `pnpm type-check` | TypeScriptã®å‹ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè¡Œ | `pnpm type-check` |

### ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ | ä½¿ç”¨æ–¹æ³• |
|---------|-------------|-------|
| `pnpm format` | ã™ã¹ã¦ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚³ãƒ¼ãƒ‰ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ | `pnpm format` |
| `pnpm format:check` | ã‚³ãƒ¼ãƒ‰ãŒé©åˆ‡ã«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã•ã‚Œã¦ã„ã‚‹ã‹ãƒã‚§ãƒƒã‚¯ | `pnpm format:check` |

---

## ğŸš€ **ãƒ‡ãƒ—ãƒ­ã‚¤ã‚³ãƒãƒ³ãƒ‰**

| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ | ä½¿ç”¨æ–¹æ³• |
|---------|-------------|-------|
| `pnpm deploy:staging` | ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒã«ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ | `pnpm deploy:staging` |
| `pnpm deploy:production` | æœ¬ç•ªç’°å¢ƒã«ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ | `pnpm deploy:production` |

---

## ğŸ§¹ **ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚³ãƒãƒ³ãƒ‰**

| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ | ä½¿ç”¨æ–¹æ³• |
|---------|-------------|-------|
| `pnpm clean:all` | ã™ã¹ã¦ã®ãƒ“ãƒ«ãƒ‰æˆæœç‰©ã¨node_modulesã‚’å‰Šé™¤ | `pnpm clean:all` |
| `pnpm install:clean` | node_modulesã‚’å‰Šé™¤ã—ã¦ä¾å­˜é–¢ä¿‚ã‚’å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« | `pnpm install:clean` |

---

## ğŸ“š **API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆã‚³ãƒãƒ³ãƒ‰**

### OpenAPI ã‚¹ã‚­ãƒ¼ãƒã‹ã‚‰è‡ªå‹•ç”Ÿæˆ
| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ | ä½¿ç”¨æ–¹æ³• |
|---------|-------------|-------|
| `pnpm generate:all` | ã™ã¹ã¦ã®APIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç”Ÿæˆï¼ˆZod + TypeScript + HTMLï¼‰ | `pnpm generate:all` |
| `pnpm generate:zod` | Zod ã‚¹ã‚­ãƒ¼ãƒã®ã¿ã‚’ç”Ÿæˆ | `pnpm generate:zod` |
| `pnpm generate:types` | TypeScript å‹å®šç¾©ã®ã¿ã‚’ç”Ÿæˆ | `pnpm generate:types` |
| `pnpm generate:html` | HTML ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã¿ã‚’ç”Ÿæˆ | `pnpm generate:html` |
| `pnpm generate:api-types` | Zod + TypeScript å‹ã‚’ç”Ÿæˆ | `pnpm generate:api-types` |

### ç”Ÿæˆã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«
- **Zod ã‚¹ã‚­ãƒ¼ãƒ**: `packages/api-types/src/zod/index.ts`
- **TypeScript å‹**: `packages/api-types/src/types/index.ts`
- **HTML ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: `apps/documents/api-documentation.html`

---

## ğŸ”¥ **Firebase ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã‚³ãƒãƒ³ãƒ‰**

### ãƒ¢ãƒƒã‚¯ã‚µãƒ¼ãƒãƒ¼ç®¡ç†
| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ | ä½¿ç”¨æ–¹æ³• |
|---------|-------------|-------|
| `pnpm mock:start` | Firebaseã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã‚’ãƒ•ã‚©ã‚¢ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§èµ·å‹• | `pnpm mock:start` |
| `pnpm mock:start-bg` | Firebaseã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã‚’ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§èµ·å‹• | `pnpm mock:start-bg` |
| `pnpm mock:stop` | å®Ÿè¡Œä¸­ã®Firebaseã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã‚’åœæ­¢ | `pnpm mock:stop` |
| `pnpm mock:status` | Firebaseã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèª | `pnpm mock:status` |
| `pnpm mock:logs` | Firebaseã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã®ãƒ­ã‚°ã‚’è¡¨ç¤º | `pnpm mock:logs` |
| `pnpm mock:seed` | Firestoreã«ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã‚’ã‚·ãƒ¼ãƒ‰ | `pnpm mock:seed` |
| `pnpm mock:ui` | ãƒ–ãƒ©ã‚¦ã‚¶ã§Firebase Emulator UIã‚’é–‹ã | `pnpm mock:ui` |

---

## ğŸ“‹ **ã‚³ãƒãƒ³ãƒ‰ã‚«ãƒ†ã‚´ãƒª**

### **é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**
```bash
# é–‹ç™ºç’°å¢ƒã‚’èµ·å‹•
pnpm dev

# ç‰¹å®šã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’èµ·å‹•
pnpm dev:app        # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ã¿
pnpm dev:backend    # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã¿

# Firebaseã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã‚’èµ·å‹•
pnpm mock:start-bg  # ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ãƒ¢ãƒ¼ãƒ‰
pnpm mock:ui        # UIã‚’é–‹ã

# API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç”Ÿæˆ
pnpm generate:all   # ã™ã¹ã¦ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç”Ÿæˆ
```

### **ãƒ†ã‚¹ãƒˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**
```bash
# ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
pnpm test

# ç‰¹å®šã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
pnpm test:app
pnpm test:backend

# ã‚³ãƒ¼ãƒ‰å“è³ªã‚’ãƒã‚§ãƒƒã‚¯
pnpm lint
pnpm type-check
```

### **API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**
```bash
# OpenAPI ã‚¹ã‚­ãƒ¼ãƒã‹ã‚‰ã™ã¹ã¦ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç”Ÿæˆ
pnpm generate:all

# å€‹åˆ¥ã«ç”Ÿæˆ
pnpm generate:zod      # Zod ã‚¹ã‚­ãƒ¼ãƒã®ã¿
pnpm generate:types    # TypeScript å‹ã®ã¿
pnpm generate:html     # HTML ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã¿

# å‹ã¨ã‚¹ã‚­ãƒ¼ãƒã®ã¿ï¼ˆHTML ãªã—ï¼‰
pnpm generate:api-types
```

### **ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**
```bash
# æœ¬ç•ªç”¨ã«ãƒ“ãƒ«ãƒ‰
pnpm build

# ç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤
pnpm deploy:staging
pnpm deploy:production
```

### **ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**
```bash
# ã™ã¹ã¦ã‚’ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
pnpm clean:all

# ãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pnpm install:clean

# ã‚³ãƒ¼ãƒ‰ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
pnpm format
```

---

## ğŸ”§ **æŠ€è¡“è©³ç´°**

### **Turborepoçµ±åˆ**
- ã™ã¹ã¦ã®ãƒ“ãƒ«ãƒ‰ã‚³ãƒãƒ³ãƒ‰ã¯åŠ¹ç‡çš„ãªä¸¦åˆ—å®Ÿè¡Œã®ãŸã‚ã«Turborepoã‚’ä½¿ç”¨
- `--filter=@ai-assistant/package-name`ã«ã‚ˆã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
- ä¾å­˜é–¢ä¿‚ã‚’è€ƒæ…®ã—ãŸã‚¿ã‚¹ã‚¯å®Ÿè¡Œ

### **Firebase Emulator Suite**
- **Firestore**: `http://localhost:8080`
- **Functions**: `http://localhost:5001`
- **Auth**: `http://localhost:9099`
- **UI**: `http://localhost:4000`

### **ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ§‹é€ **
- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: `apps/frontend/app` (LIFFã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³)
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**: `apps/backend` (Firebase Functions)
- **ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸**: `packages/*` (å…±æœ‰ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£)

---

## ğŸ’¡ **ä¸€èˆ¬çš„ãªä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³**

### **æ—¥å¸¸ã®é–‹ç™º**
```bash
# ã™ã¹ã¦ã‚’èµ·å‹•
pnpm mock:start-bg
pnpm dev

# ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèª
pnpm mock:status

# API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ›´æ–°
pnpm generate:all
```

### **ã‚³ãƒŸãƒƒãƒˆå‰**
```bash
pnpm lint
pnpm type-check
pnpm test
pnpm format:check
```

### **ãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã‚¹ã‚¿ãƒ¼ãƒˆ**
```bash
pnpm clean:all
pnpm install:clean
pnpm dev
```

### **æœ¬ç•ªãƒ“ãƒ«ãƒ‰**
```bash
pnpm build
pnpm deploy:production
```

---

## ğŸ†˜ **ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°**

### **ã‚ˆãã‚ã‚‹å•é¡Œ**

**ãƒãƒ¼ãƒˆç«¶åˆ:**
```bash
pnpm mock:stop
pnpm mock:start
```

**ãƒ“ãƒ«ãƒ‰å•é¡Œ:**
```bash
pnpm clean:all
pnpm install:clean
pnpm build
```

**ä¾å­˜é–¢ä¿‚ã®å•é¡Œ:**
```bash
pnpm install:clean
```

**API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆã®å•é¡Œ:**
```bash
# ç”Ÿæˆã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
cd openapi/generators
pnpm install

# ã™ã¹ã¦ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å†ç”Ÿæˆ
pnpm generate:all
```

---

## ğŸ“š **é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**

- **[ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦](OVERVIEW.md)** - å®Œå…¨ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
- **[ç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](ENVIRONMENT_SETUP.md)** - é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- **[ãƒ¢ãƒƒã‚¯ã‚µãƒ¼ãƒãƒ¼ã‚¬ã‚¤ãƒ‰](scripts/mock-server/MOCK_SERVER.md)** - Firebaseã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã®è©³ç´°
- **[ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¬ã‚¤ãƒ‰](apps/frontend/FRONTEND.md)** - ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºã‚¬ã‚¤ãƒ‰

---
